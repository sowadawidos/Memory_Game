(this.webpackJsonpmemory_game=this.webpackJsonpmemory_game||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),s=c(23),r=c.n(s),i=(c(40),c(17)),j=c(11),o=(c(41),c(16)),l=c(9),d=(c(42),c(43),c(2)),b=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"home",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"home__box",children:[Object(d.jsx)("h1",{className:"home__box-title",children:"MEMORY GAME"}),Object(d.jsx)(o.b,{to:"/game-board",children:Object(d.jsx)("button",{className:"home__box-button",children:"Play"})}),Object(d.jsx)(o.b,{to:"/leaderboard",children:Object(d.jsx)("button",{className:"home__box-button",children:"Leaderboard"})})]})})})})},m=(c(49),c(31)),u=(c(50),c(51),function(e){var t=e.card,c=e.getID,a=e.matchedIndex,s=e.setMove,r=e.index,i=Object(n.useState)(!1),o=Object(j.a)(i,2),l=o[0],b=o[1];return Object(n.useEffect)((function(){r[1]&&setTimeout((function(){b(!1)}),1e3)}),[r]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"card",children:l||a.includes(t.id)?Object(d.jsx)("div",{className:"card-front",children:t.figure}):Object(d.jsx)("div",{className:"card-back",onClick:function(){b(!0),c(t.id),s((function(e){return e+1}))},children:Object(d.jsx)("span",{children:"?"})})})})}),O=function(e){var t=e.setPoints,c=e.setMoves,a=e.figuresArr,s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)([]),b=Object(j.a)(l,2),O=b[0],h=b[1],x=function(e){o((function(t){return[].concat(Object(m.a)(t),[e])}))};return Object(n.useEffect)((function(){i&&2===i.length&&(setTimeout((function(){o([])})),i[0]&&i[0]===i[1]&&(h((function(e){return[].concat(Object(m.a)(e),[i[0]])})),t((function(e){return e+1}))))}),[i]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"game__board",children:a&&a.map((function(e){return Object(d.jsx)(u,{card:e,getID:x,matchedIndex:O,setMove:c,index:i})}))})})},h=(c(52),function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"header",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"header__logo",children:["Memory ",Object(d.jsx)("span",{children:"Game"})]}),Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("button",{className:"exit__game",children:"Back to menu"})})]})})})}),x=c(24),f=(c(53),function(e){var t=e.text;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h1",{className:"end__game-title",children:t})})}),g=function(e){var t=e.moves,c=e.points,a=e.getUser,s=e.time,l=e.text,b=e.blur,m=(e.blurLose,Object(n.useState)()),u=Object(j.a)(m,2),O=u[0],h=u[1],g=Object(n.useState)(!1),p=Object(j.a)(g,2),v=p[0],_=p[1];return r.a.createPortal(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"end__game",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"end__game-box",children:[Object(d.jsx)(f,{text:l}),Object(d.jsxs)("h1",{className:"end__game-points",children:["Your points : ",c]}),Object(d.jsxs)("h1",{className:"end__game-time",children:["Your time : ",s]}),Object(d.jsxs)("h1",{className:"end__game-moves",children:["Your moves : ",t]}),b&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("label",{children:["Nickname:",Object(d.jsx)("input",{type:"text",name:"nickname",onChange:function(e){var t=e.target,c=t.name,n=t.value;h((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(x.a)({},c,n))}))}})]}),Object(d.jsx)(o.b,{to:"/leaderboard",children:Object(d.jsx)("button",{className:"end__game-btn",disabled:v,onClick:function(e){e.preventDefault(),a(Object(i.a)(Object(i.a)({},O),{},{points:c,moves:t,time:s})),_(!0)},children:v?"Added to leaderboard":"Add to leaderboard"})})]})]})})})}),document.getElementById("portal"))},p=function(e){var t=e.getUser,c=e.figuresArr,a=Object(n.useState)(0),s=Object(j.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(0),l=Object(j.a)(o,2),b=l[0],m=l[1],u=Object(n.useState)(!1),x=Object(j.a)(u,2),f=x[0],p=x[1],v=Object(n.useState)(!1),_=Object(j.a)(v,2),N=_[0],S=_[1],y=Object(n.useState)(50),F=Object(j.a)(y,2),I=F[0],M=F[1];return Object(n.useEffect)((function(){var e=I>0&&setInterval((function(){M((function(e){return e-1}))}),1e3);return 0!==I&&9!==r||(clearInterval(e),S(!0)),function(){return clearInterval(e)}}),[I]),Object(n.useEffect)((function(){9===r&&p(!0)}),[r]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{}),Object(d.jsx)("section",{className:"game__page",style:f||N?{filter:"blur(4px)"}:{},children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"game__page-info",children:[Object(d.jsxs)("h1",{className:"game__page-time",children:["Time: ",I," seconds"]}),Object(d.jsxs)("h1",{className:"game__page-points",children:["Score: ",r," points"]}),Object(d.jsxs)("h1",{className:"game__page-points",children:["Moves: ",b," moves"]})]}),Object(d.jsx)(O,{setPoints:i,setMoves:m,figuresArr:c})]})}),f&&Object(d.jsx)(g,{points:r,moves:b,getUser:t,time:I,text:"You won!",blur:f,blurLose:N}),N&&Object(d.jsx)(g,{points:r,moves:b,getUser:t,time:I,text:"Time's up!",blurLose:N,blur:f})]})},v=c(35).a.initializeApp({apiKey:"AIzaSyC8wgMOTtf1rLl_45EnhyjNkLP4ZVsu6gY",authDomain:"memorycard-game-d38a6.firebaseapp.com",projectId:"memorycard-game-d38a6",storageBucket:"memorycard-game-d38a6.appspot.com",messagingSenderId:"24165533630",appId:"1:24165533630:web:4b9cdc3ff28b19f46d5bef"}),_=v.firestore(),N=(c(59),function(e){var t=e.item,c=e.id;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("li",{className:"leaderboard__board-list",children:[Object(d.jsx)("p",{className:"all lp",children:c+1}),Object(d.jsx)("p",{className:"all username",children:t.nickname}),Object(d.jsx)("p",{className:"all moves",children:t.moves}),Object(d.jsx)("p",{className:"all time",children:t.time})]})})}),S=function(e){var t=e.leaderboard,c=Object(n.useState)(),a=Object(j.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var e=t&&t.sort((function(e,t){return e.time===t.time?e.moves-t.moves:t.time-e.time}));r(e)}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{}),Object(d.jsx)("section",{className:"leaderboard",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"leaderboard__box",children:[Object(d.jsx)("h1",{className:"leaderboard__title",children:"Leaderboard"}),Object(d.jsxs)("ul",{className:"leaderboard__board",children:[Object(d.jsxs)("li",{className:"leaderboard__board-list",children:[Object(d.jsx)("p",{className:"title lp",children:"LP."}),Object(d.jsx)("p",{className:"title username",children:"Nickname"}),Object(d.jsx)("p",{className:"title moves",children:"Moves"}),Object(d.jsx)("p",{className:"title time",children:"Time left"})]}),s&&s.map((function(e,t){return Object(d.jsx)(N,{item:e,id:t})}))]})]})})})]})};var y=function(){var e=[{figure:"\ud83d\ude07",id:1},{figure:"\ud83d\ude21",id:2},{figure:"\ud83e\udd21",id:3},{figure:"\ud83d\udc7b",id:4},{figure:"\ud83d\udc35",id:5},{figure:"\ud83d\udc39",id:6},{figure:"\ud83d\udc2f",id:7},{figure:"\ud83e\udda7",id:8},{figure:"\ud83d\udc0d",id:9}],t=Object(n.useState)(),c=Object(j.a)(t,2),a=c[0],s=c[1],r=e.concat(e).sort((function(){return Math.random()-.5}));return console.log(r),Object(n.useEffect)((function(){_&&_.collection("leaderboard").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({},e.data())}));s(t)}))}),[_]),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(b,{})}),Object(d.jsx)(l.a,{path:"/game-board",children:Object(d.jsx)(p,{getUser:function(e){_&&_.collection("leaderboard").add(Object(i.a)({},e)).catch((function(e){console.error(e)}))},figuresArr:r})}),Object(d.jsx)(l.a,{path:"/leaderboard",children:Object(d.jsx)(S,{leaderboard:a})})]})})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),F()}},[[60,1,2]]]);
//# sourceMappingURL=main.81c2ead1.chunk.js.map